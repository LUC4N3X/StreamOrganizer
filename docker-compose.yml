version: '3.8'

services:
  streamorganizer:
    build: .
    container_name: streamorganizer_app
    
    # Mappa la porta host:container
    # Accederai al sito via http://localhost:8080
    ports:
      - "8080:7860"
    
    env_file:
      - ./.env
    
    environment:
      # --- IMPORTANTE PER SELF-HOSTING ---
      # Se usi HTTPS (con Nginx/Traefik), metti: production
      # Se usi HTTP (IP locale/test), metti: development
      # 'development' permette al login di funzionare senza certificato SSL
      - NODE_ENV=development
      
      # Forza la porta interna (opzionale, ma sicuro)
      - PORT=7860
      
    restart: unless-stopped
    networks:
      - streamorganizer_net

networks:
  streamorganizer_net:
    driver: bridge
